@import util._
@import views.html.common.page._
@import views.html.common.form._
@import views.html.common.state._
@import models.common.Country
@import controllers.DestinationCountryController

@(form: Form[_], countries: List[Country], numberOfThroughDestinationCountries: Int, fieldOrderList: List[String])
@standardPage("Countries and territories", Some(Html("Countries and territories"))){
  @errorSummary(form, fieldOrder = fieldOrderList)
} {

  <form action="@routes.DestinationCountryController.handleSubmit()" method="POST">

    @contextFormParams()

    <input type="submit" class="hidden"></input>

    <h2 class="heading-medium">Where is the final destination of your items?</h2>

    @countrySelect(form(DestinationCountryController.FINAL_DESTINATION_COUNTRY_FIELD_NAME), Some("Type your destination country or territory"), null, false, true, countries)

    @formRadioBoolean(form(DestinationCountryController.ITEM_THROUGH_MULTIPLE_COUNTRIES_FIELD_NAME), Html("Will your items be received by anyone in a different country or territory, such as a consignee, before reaching their final destination?"))

    <p class="js-hidden">
      <span class="bold-medium">If yes, please add the country below</span>
    </p>

    <div id="through-destination-countries-wrapper" class="js-hidden">
      @* Uncomment for multiple through destination countries
      @countrySelectGenerator(form, DestinationCountryController.THROUGH_DESTINATION_COUNTRIES_FIELD_NAME, numberOfThroughDestinationCountries, "Type the country or territory where the first consignee or other party will receive the items", countries)
      *@
      <p>
        Type the country or territory where the first consignee or other party will receive the items
      </p>

      @countrySelect(form(DestinationCountryController.THROUGH_DESTINATION_COUNTRIES_FIELD_NAME + "[0]"), None, null, false, true, countries)

      @* Uncomment for multiple through destination countries
      @if(numberOfThroughDestinationCountries < DestinationCountryController.MAX_NUMBER_OF_THROUGH_COUNTRIES) {
        <div class="form-group">
          <button type="submit" class="link" name="addAnotherThroughDestination" value="true">Add another destination</button>
        </div>
      }
      *@

    </div>

    <div class="form-group">
      <button type="submit" class="button">Continue</button>
    </div>
  </form>

  <script type="text/javascript">
    $(document).ready(function(){LITEPermissionsFinder.DestinationCountry.setupPage()});
  </script>
}